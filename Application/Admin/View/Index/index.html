<extend name="Public/base" />

<block name="sidebar"></block>

<block name="style">
    <style>
        body {
            padding: 0
        }
    </style>
</block>

<block name="body">
    <!-- 主体 -->
    <div id="indexMain" class="index-main">
        <!-- 插件块 -->
        <div class="container-span">{:hook('AdminIndex')}</div>
        <span>
            <div id="client" style="width: 600px;height:400px; position:absolute; right:0; top:220px;"></div>
        </span>
        <span>
            <h2 style="margin-left: 30px;">文章发表数量</h2>
            <div id="admin" style="width: 600px;height:400px; "></div>
        </span>
    </div>
</block>

<block name="script">
    <script src="__JS__/echarts.common.min.js"></script>
    <script>
        var myChartClient = echarts.init(document.getElementById('client'));
        var myChartAdmin = echarts.init(document.getElementById('admin'));

        data = [
            ["2017-08-20", 116], 
            ["2017-08-20", 129], 
            ["2017-08-20", 135], 
            ["2017-08-20", 86], 
            ["2017-08-20", 73], 
            ["2017-08-20", 85], 
            ["2017-08-20", 73], 
            ["2017-08-20", 68], 
            ["2017-08-20", 92], 
            ["2017-08-20", 130], 
            ["2017-08-20", 245], 
            ["2017-08-20", 139], 
            ["2017-08-20", 115], 
            ["2017-08-20", 111], 
            ["2017-08-20", 309], 
            ["2017-08-20", 206], 
            ["2017-08-20", 137], 
            ["2017-08-20", 128], 
            ["2017-08-20", 85], 
            ["2017-08-20", 94], 
            ["2017-08-20", 71], 
            ["2017-08-20", 106], 
            ["2017-08-20", 84], 
            ["2017-08-20", 93], 
            ["2017-08-20", 85], 
            ["2017-08-20", 73], 
            ["2017-08-20", 83], 
            ["2017-08-20", 125], 
            ["2017-08-20", 107], 
            ["2017-08-20", 82], 
            ["2017-08-20", 44], 
            ["2017-08-20", 72], 
            ["2017-08-20", 106], 
            ["2017-08-20", 107], 
            ["2017-08-20", 66], 
            ["2017-08-20", 91], 
            ["2017-08-20", 92], 
            ["2017-08-20", 113], 
            ["2017-08-20", 107], 
            ["2017-08-20", 131], 
            ["2017-08-20", 111], 
            ["2017-08-20", 64], 
            ["2017-08-20", 69], 
            ["2017-08-20", 88], 
            ["2017-08-20", 77], 
            ["2017-08-20", 83], 
            ["2017-08-20", 111], 
            ["2017-08-20", 57], 
            ["2017-08-20", 55], 
            ["2017-08-20", 60]
        ];

        var dateList = data.map(function (item) {
            return item[0];
        });
        var valueList = data.map(function (item) {
            return item[1];
        });

        option = {

            // Make gradient line here
            visualMap: [{
                show: false,
                type: 'continuous',
                seriesIndex: 0,
                min: 0,
                max: 100
            }, {
                show: false,
                type: 'continuous',
                seriesIndex: 1,
                dimension: 0,
                min: 0,
                max: dateList.length - 1
            }],


            title: [{
                left: 'center',
                text: '用户活跃度'
            }, {
                top: '55%',
                left: 'center',
                text: '管理员活跃度'
            }],
            tooltip: {
                trigger: 'axis'
            },
            xAxis: [{
                data: dateList
            }, {
                data: dateList,
                gridIndex: 1
            }],
            yAxis: [{
                splitLine: { show: false }
            }, {
                splitLine: { show: false },
                gridIndex: 1
            }],
            grid: [{
                bottom: '60%'
            }, {
                top: '60%'
            }],
            series: [{
                type: 'line',
                showSymbol: false,
                data: valueList
            }, {
                type: 'line',
                showSymbol: false,
                data: valueList,
                xAxisIndex: 1,
                yAxisIndex: 1
            }]
        };
        myChartClient.setOption(option);

        option = {
            color: ['#3398DB'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [
                {
                    type: 'category',
                    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    axisTick: {
                        alignWithLabel: true
                    }
                }
            ],
            yAxis: [
                {
                    type: 'value'
                }
            ],
            series: [
                {
                    name: '直接访问',
                    type: 'bar',
                    barWidth: '60%',
                    data: [1, 2, 2, 3, 6, 3, 2]
                }
            ]
        };
        myChartAdmin.setOption(option);

    </script>
    <script type="text/javascript">
        /* 插件块关闭操作 */
        $(".title-opt .wm-slide").each(function () {
            $(this).click(function () {
                $(this).closest(".columns-mod").find(".bd").toggle();
                $(this).find("i").toggleClass("mod-up");
            });
        })
        $(function () {
            // $('#main').attr({'id': 'indexMain','class': 'index-main'});
            $('.copyright').html('<div class="copyright"> ©2017 海南微软创新中心HTP工作室所有</div>');
            $('.sidebar').remove();
        })

    </script>
</block>